{% extends "admin/base.html" %}

{% block title %}–£—Å–ª—É–≥–∏ - {{ salon_info.name }}{% endblock %}
{% block nav_services %}active{% endblock %}

{% block content %}
<!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
    <div>
        <h1 style="font-size: 2rem; font-weight: 700; color: #111827; margin-bottom: 0.5rem;">
            üíÖ –£—Å–ª—É–≥–∏
        </h1>
        <p style="color: #6b7280;">–ü—Ä–∞–π—Å-–ª–∏—Å—Ç —Å–∞–ª–æ–Ω–∞</p>
    </div>
    <button class="btn btn-primary" onclick="openAddModal()">
        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É
    </button>
</div>

<!-- –¢–∞–±–ª–∏—Ü–∞ —É—Å–ª—É–≥ -->
<div class="table-container">
    <table class="table">
        <thead>
            <tr>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–¶–µ–Ω–∞</th>
                <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% if services %}
                {% for service in services %}
                <tr>
                    <td>
                        <div style="font-weight: 600; color: #111827;">{{ service[2] }}</div>
                        {% if service[3] %}
                        <div style="font-size: 0.875rem; color: #6b7280;">{{ service[3] }}</div>
                        {% endif %}
                    </td>
                    <td><strong>{{ service[5] }} {{ service[6] }}</strong></td>
                    <td><span class="badge badge-info">{{ service[7] }}</span></td>
                    <td style="max-width: 300px; overflow: hidden; text-overflow: ellipsis;">{{ service[9][:50] if service[9] else '-' }}</td>
                    <td>
                        {% if service[11] %}
                            <span class="badge badge-success">–ê–∫—Ç–∏–≤–Ω–∞</span>
                        {% else %}
                            <span class="badge badge-danger">–ù–µ–∞–∫—Ç–∏–≤–Ω–∞</span>
                        {% endif %}
                    </td>
                    <td>
                        <div style="display: flex; gap: 0.5rem;">
                            <button class="btn" onclick="editService({{ service[0] }})" style="padding: 0.5rem 0.75rem; font-size: 0.875rem; background: white; border: 1px solid #e5e7eb; color: #111827;">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn" onclick="deleteService({{ service[0] }})" style="padding: 0.5rem 0.75rem; font-size: 0.875rem; background: white; border: 1px solid #fee2e2; color: #ef4444;">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            {% else %}
            <tr>
                <td colspan="6" style="text-align: center; padding: 2rem; color: #9ca3af;">
                    –ù–µ—Ç —É—Å–ª—É–≥
                </td>
            </tr>
            {% endif %}
        </tbody>
    </table>
</div>

<script>
function openAddModal() {
    const name = prompt('–ù–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª—É–≥–∏:');
    if (!name) return;
    const price = prompt('–¶–µ–Ω–∞:');
    if (!price) return;
    showNotification('–§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ', 'info');
}

function editService(serviceId) {
    showNotification('–§—É–Ω–∫—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ', 'info');
}

function deleteService(serviceId) {
    if (!confirm('–£–¥–∞–ª–∏—Ç—å —É—Å–ª—É–≥—É?')) return;
    showNotification('–§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ', 'info');
}
</script>
{% endblock %}